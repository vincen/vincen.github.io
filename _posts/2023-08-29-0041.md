---
layout: post
title: skadnetwork
categories: advertising
tag: adtech
---

# 1. Timeline

- IDFA: iOS6
- LAT: iOS12
- ATT: iOS14.5



# 1. IDFA

## 1.1 什么是 IDFA？

IDFA (Identifier for Advertisers) 是 Apple 向用户设备随机分配的设备标识符。广告主使用此标识符来跟踪数据，以便提供定制广告。

IDFA 不会泄露任何个人信息。相反地，它用于跟踪和识别用户，然后允许广告主访问可用于发现信息的聚合数据 — 例如触发的应用内事件。

如果渠道提供 IDFA 跟踪，同时广告主可以跟踪与广告成功互动的用户，那么 IDFA 就可以可以在用户与移动广告推广交互时辨识此类用户。如果满足上述条件，IDFA 可了解特定用户是否出于付款和归因目的而点击广告。

## IDFA 为什么很重要?

IDFA 是广告跟踪 iOS 用户的准确方法。通过将每个设备分配为单独的 IDFA，广告主可以在每次推广活动中跟踪 IDFA，从而能进一步确定该用户质量，并确认用户是否因广告推广活动而进行安装。

IDFA 也为用户提供了可接受的隐私等级。这会对广告主产生额外的影响，但是 IDFA 对于用户数据的非个性化处理能确保数据保护工作的成效 — 防止广告主卷入数据隐私风波。

IDFA 有两个关键特征：

- 用户可随时重置 IDFA。
- 用户可通过以下方式选择停用由 IDFA 提供支持的再营销
  - 对于旧版设备（iOS 14.5 之前）：启用一项名为“限制广告跟踪”(LAT) 的设备设置，此设置用于限制广告客户将 IDFA 用于行为广告投放
  - 对于新设备（iOS 14.5 及更高版本）：在 ATT 提示中选择拒绝



# AppTracking Transparency

## 什么是 ATT 框架？ 

苹果建议，从 iOS14 开始，广告追踪用户权限将由 AppTrackingTransparency 框架系统管理，最大限度地保障用户隐私安全，并将安全开关交还给用户。

## ATT的用途是什么？

在 ATT 功能上线之前，App 很容易获取到用户的 IDFA，通过获取数据可以统计各个媒体和素材的成本和转化等数据，完成数据归因；还可以分析用户的喜好，进行个性化推荐和针对性推送，达到良好的广告效果。

之前，用户只需要一次授权，整个 iOS 设备都可以获得 IDFA 的授权，从而可以跟踪用户行为，IDFA 授权默认开启。ATT 功能上线后，APP 访问用户设备 IDFA 前必须明确请求用户权限，并获得用户授权才能获取 IDFA。而 IDFA 除了系统开关外，每个应用都有单独的开关。

## 所有应用程序都必须访问 ATT 框架吗？

不是强制性的。但是，ATT 功能上线后，开发者必须通过弹窗征得用户同意，才能获取用户的 IDFA。

如果开发者不接入 ATT 框架，将无法获取升级到 14.5 及以上系统的用户的有效 IDFA，返回的 IDFA 值将全为 0，导致 CPA 和 ASO 类型广告的 IDFA 数据异常回调。

### 在什么情况下可以豁免？


不收集用户 IDFA 的应用无法连接，如儿童应用

此外，以下行为不会被视为跟踪行为，不需要通过 ATT 框架寻求用户许可。

1. App中的用户数据或设备数据仅与用户设备上的第三方数据相关联，不会以识别用户或设备的方式从设备向外发送。
2. 共享数据的数据代理仅将数据用于欺诈检测、欺诈预防或安全保护目的，并且仅代表开发者行事。例如，数据代理仅用于防止信用卡欺诈。

## 如果我不连接 ATT 会被应用商店拒绝吗？


如果没有收集到用户 IDFA，则可能无法访问，审核可能正常通过。但需要注意的是，开发者在 iTC 后台提交隐私信息时，填写的跟踪内容需要与ATT访问保持一致，否则存在被拒审核的风险。



# SKAdNetwork

## 什么是 SKAdNetwork？

IDFA 访问权限调整后，广告主想要访问渠道归因和用户行为追踪，必须征得用户同意。为了减少这种变化的影响，Apple 引入了另一种解决方案 - SKAdNetwork。

SKAdNetwork 帮助广告商衡量广告活动，同时维护用户隐私

SKAdNetwork 是 Apple 的归因解决方案，可帮助广告商衡量活动，同时维护用户隐私。借助 Apple 的 SKAdNetwork，即使 IDFA 不可用，广告网络也可以正确获取应用安装的归因结果。

事实上，早在 2018 年 3 月，苹果就在 iOS 11.3 上发布了 SKAdNetwork 1.0，但并未带动广泛使用；去年，苹果积极更新到 2.0 版本，升级到 2.0 版本可以解决 IDFA 带来的安装、应用内注册、购买等转化行为。不过以上两个版本，都只支持StoreKit-Rendered Ads（渲染广告），一种广告类型。

## SKAdNetwork 2.2

2021年2月1日，苹果再次推出 SKAdNetwork 2.2 版本，开始支持跟踪 iOS、iPadOS 等网页中广告的点击效果，除了原有的 App 广告跟踪外，还增加了归因跟踪用于浏览广告（基于浏览的广告），包括视频、音频和许多其他广告格式。开发者可以评估哪些广告最有效并推动用户转化（例如购买或注册），大大降低即将到来的 IDFA 访问权限调整的影响。

## SKAdNetwork 安全吗？访问难度如何？

苹果推出的广告归因技术SKAdNetwork具有苹果官方背书的安全性，作为保护隐私信息和隐私数据的倡导者，苹果一般不会出现数据泄露的情况。

访问SKAdNetwork也很简单，只需要嵌入一行代码就可以得到返回的参数。



### SKAdNetwork也有它的优势


此外，SKAdNetwork 也有它的优势。

(1) 苹果官方提供，无需用户授权即可实现统计。

(2) 广告客户级别的简单应用内访问，一行代码。

(3) Apple从Apple ID级别验证用户安装有效性/重复安装。

（4）广告呈现形式可根据需求定制，可用于广告投放渠道归属和新老用户判断。



### SKAdNetwork 的其他用途是什么？

苹果官方SKAdNetwork程序可以绑定6个行为转化值，广告平台在回传数据时可以同时返回渠道新老用户数量和购买不同套餐的用户数量，进而评估渠道ROI和用户质量基于返回的数据，但仍然无法达到原始统计方法的效果，例如基于LTV计算单个素材的价值和用户质量。

 

## 致开发者

### 新的 iOS 14.5 隐私规则会影响电视广告吗？


如果不使用IDFA进行用户行为跟踪，不会影响广告的消费，但会影响广告素材的优化效果跟踪（存在跨平台ID穿透的问题）。

在此之前，基于IDFA的广告统计逻辑可以跟踪单个广告素材带来的用户后续支付行为，从而根据ROI等数据优化广告素材；14.5以后就不能用老方法做ROI测量了（存在跨平台ID穿透问题）。此外，基于IDFA结算的CPA、ASO类型的广告也会受到影响。



### 开发者该如何应对？


根据目前的信息，iOS14.5正式版很可能会在4月26日上线，透明App隐私追踪功能也即将登陆，开发者需要做好准备。针对当前存在的问题和大环境，七麦研究所提出以下建议。

您可以尝试尽快在 App 更新版本中访问 AppTrackingTransparency 框架，以提高获得用户 IDFA 的机会。

考虑使用 Apple 推出的官方广告归因技术 SKAdNetwork2.2 作为促销后备计划。



### SKAdNetwork 的新机制还会将返回数据的副本发送给广告商


去年 12 月，我们发起了一项客户调查，询问广告商他们认为 SKAdNetwork 返回数据应该发送给哪一方。

这项调查的结果很明确：广告商坚信广告商或代表广告商的 MMP 应该是 SKAdNetwork 数据返回的接收者。



## SKAdNetwork 将平衡苹果正在进行的新版本的进展


自SKAdNetwork推出以来，苹果一直在发布新版本，这表明苹果也在努力消除IDFA访问权限调整带来的影响。



虽然“支持同时向广告主发回数据”只是一个小改动，但它确实解决了广告主无法接收数据带来的一系列问题。





UDID (Unique Device Identifier)。是苹果iOS设备的唯一标识码，它由40个字符的字母和数字组成。

IMEI

